---
title: Jenkins Tutorial
tags:
---







究极原创版

github+ webhook: https://www.decodingdevops.com/configure-github-web-hook-for-jenkins/



#### Pipeline project

In a similar manner, you can setup the pipeline project to trigger the build on receiving push event from Github. 

Even for this job type, check the option “GitHub hook trigger for GITScm polling” in the “Build Triggers” section. 
After selecting this option, all you need to do is **run the build first time** from within Jenkins using “Build Now” option. This will enable jenkins to **register the github event, so that from then onwards whenever you push the code in github it will automatically run this job in jenkins.**

Within the pipeline, you should have a code checkout step. This can be in your pipeline script in jenkins or jenkinsfile in the same github repo where you have added the webhook.

Apart from the Jenkins GUI as discussed above, there is another way to setup the property, “GitHub hook trigger for GITScm polling”. In the jenkinsfile at the top of the file or within the relevant stage, add the property as follows: properties([pipelineTriggers([githubPush()])])

The above code was generated by selecting the hyperlink *Pipeline Syntax* just below groovy script text area. Then select Snippet Generator from left hand side navigation bar. From the Sample Step drop select  *properties: Set job properties*. Then check the checkbox for the property: “Github hook trigger for GITScm polling” and click on Generate Pipeline Script. The script generated is same as the one mentioned above, which you can insert within your script. When you run the build for the first time after setting up the project, it will enable this property within jenkins job.

### Pipeline Branch Specifier

![image-20220318030743627](/home/lyk/.config/Typora/typora-user-images/image-20220318030743627.png)

 

如果branch留空的话，必须取消lightweight checkout，详见https://issues.jenkins.io/browse/JENKINS-46588



## poll SCM

触发项目；

Poll SCM：定时检查源码变更（根据SCM软件的版本号），如**果有更新就checkout最新code下来，然后执行构建动作**

* 这意味着如果源代码没有更新，就不会进行构建。 你会发现webhook正确地发送过来了， poll 也正确选择了待构建项目， 但就是没有构建， GitHub Hook Log到了“Changes not found”就结束了，没有下文

## 日志

日志是最好的debug工具， jenkins日志位于：Dashboard -> System Log 
